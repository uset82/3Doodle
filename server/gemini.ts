import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from '@google/generative-ai';

// Initialize the Gemini API with the provided API key
const API_KEY = process.env.GEMINI_API_KEY;
if (!API_KEY) {
  throw new Error('Missing required environment variable: GEMINI_API_KEY');
}

const genAI = new GoogleGenerativeAI(API_KEY);

// Safety settings to comply with content policies
const safetySettings = [
  {
    category: HarmCategory.HARM_CATEGORY_HARASSMENT,
    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
  },
  {
    category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,
    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
  },
  {
    category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,
    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
  },
  {
    category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,
    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
  },
];

/**
 * Detect what kind of object is drawn in the provided image
 * 
 * @param imageData - Base64 encoded image data from canvas
 * @returns Detected object type (e.g., "apple", "dog", "flower")
 */
export async function detectObjectInDrawing(imageData: string): Promise<string> {
  try {
    // Extract base64 content (remove data URL prefix if present)
    const base64Image = imageData.includes('base64,') 
      ? imageData.split('base64,')[1] 
      : imageData;
    
    // Generate a random object for rate limit fallback
    const fallbackObjects = ['apple', 'dog', 'cat', 'flower', 'house', 'tree', 'car', 'sun', 'moon', 'ball'];
    const randomFallback = fallbackObjects[Math.floor(Math.random() * fallbackObjects.length)];
    
    try {
      // Initialize the model - using Gemini 2.5 Pro for better understanding
      const model = genAI.getGenerativeModel({ 
        model: "gemini-2.5-pro-preview-03-25",
        safetySettings,
      });
  
      // Send prompt with image data to detect object
      const prompt = `This is a simple sketch drawn by a child. Tell me what is drawn in this image.
      Only respond with a single word (like 'apple', 'dog', 'house', etc.) that best describes the object in the image.
      If you can't identify anything specific, just respond with 'object'.`;
  
      const result = await model.generateContent([
        prompt,
        {
          inlineData: {
            mimeType: "image/png",
            data: base64Image
          }
        }
      ]);
  
      const response = result.response;
      const text = response.text().trim().toLowerCase();
      
      // Extract just the object name (in case there's extra text)
      // Find the first word or simple phrase without punctuation
      const objectMatch = text.match(/^[a-z]+$|^[a-z]+(?:\s[a-z]+)?/);
      const objectType = objectMatch ? objectMatch[0] : 'object';
      
      return objectType;
    } catch (apiError) {
      const err = apiError as { status?: number };
      console.log('API Error status:', err?.status);
      
      // If we hit rate limits, use a random object from our predefined list
      if (err?.status === 429) {
        console.log(`Rate limit reached. Using fallback object: ${randomFallback}`);
        return randomFallback;
      }
      
      // For other errors, rethrow
      throw apiError;
    }
  } catch (error) {
    console.error('Error detecting object in drawing:', error);
    return 'object'; // Default fallback
  }
}

/**
 * Generate a 3D representation of the detected object
 * 
 * @param objectType - The type of object to generate (e.g., "apple", "dog")
 * @returns Base64 encoded image data of the generated 3D model
 */
export async function generate3DModel(objectType: string): Promise<string> {
  try {
    // Define fallback images for common objects
    const fallbackImages: Record<string, string> = {
      'default': 'data:image/png;base64,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',
      'apple': 'data:image/png;base64,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',
      'dog': 'data:image/png;base64,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',
      'flower': 'data:image/png;base64,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'
    };

    try {
      // Initialize the model - using Gemini 2.0 Flash for image generation
      const model = genAI.getGenerativeModel({ 
        model: "gemini-2.0-flash-exp-image-generation",
        safetySettings,
      });

      try {
        // Create a prompt for 3D image generation
        const prompt = `A photorealistic 3D model of a ${objectType} rendered in a clean white studio environment with soft lighting. The 3D model should have a bit of a cartoon style appropriate for children, with vibrant colors and smooth textures. The ${objectType} should be the main focus of the image, centered, with slight shadows to emphasize its 3D nature.`;

        // Generate the image
        const result = await model.generateContent([prompt]);
        const response = result.response;
        
        // Access parts property which contains the generated image
        const parts = response.candidates?.[0]?.content?.parts;
        let imageData = null;
        
        if (parts && parts.length > 0) {
          for (const part of parts) {
            if (part.inlineData && part.inlineData.data) {
              imageData = part.inlineData.data;
              break;
            }
          }
        }
        
        if (!imageData) {
          throw new Error('No image was generated');
        }
        
        // Create data URL with the base64 image data
        const dataUrl = `data:image/png;base64,${imageData}`;
        
        return dataUrl;
      } catch (apiError) {
        console.log('API Error status:', apiError?.status);
        
        // If we hit rate limits, use a fallback image
        if (apiError?.status === 429) {
          // Use specific fallback if available, otherwise use the default
          const fallbackImage = fallbackImages[objectType] || fallbackImages['default'];
          console.log(`Rate limit reached. Using fallback image for: ${objectType}`);
          return fallbackImage;
        }
        
        // For other errors, rethrow
        throw apiError;
      }
    } catch (error) {
      console.error('Error generating 3D model:', error);
      // Fallback to placeholder image in case of error
      const fallbackImage = fallbackImages[objectType] || fallbackImages['default'];
      return fallbackImage;
    }
  } catch (error) {
    console.error('Error generating 3D model:', error);
    throw new Error('Failed to generate 3D model');
  }
}